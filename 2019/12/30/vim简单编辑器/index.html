<!DOCTYPE html>
<html lang="en">





<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/apple-touch-icon.png">
  <link rel="icon" type="image/png" href="/img/%E5%8D%83%E5%8D%83%E7%AE%80%E7%AC%94%E7%94%BB_20180815155023_800780.jpg">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
  
  <meta name="description" content="">
  <meta name="author" content="Inula salicina">
  <meta name="keywords" content="">
  <title>Docker&amp;部署 ~ Amusing&#39;s blog</title>

  <link rel="stylesheet" href="/lib/font-awesome/css/all.min.css"  >
<link rel="stylesheet" href="/lib/bootstrap/css/bootstrap.min.css"  >
<link rel="stylesheet" href="/lib/mdbootstrap/css/mdb.min.css"  >
<link rel="stylesheet" href="/lib/github-markdown/github-markdown.min.css"  >

<link rel="stylesheet" href="//at.alicdn.com/t/font_1067060_qzomjdt8bmp.css">



  <link rel="stylesheet" href="/lib/prettify/tomorrow-night-eighties.min.css"  >

<link rel="stylesheet" href="/css/main.css"  >


  <link rel="stylesheet" href="/lib/fancybox/jquery.fancybox.min.css"  >


<meta name="generator" content="Hexo 4.2.0"></head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>手写的从前</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="/">Home</a>
          </li>
        
          
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="/archives/">Archives</a>
          </li>
        
          
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="/categories/">Categories</a>
          </li>
        
          
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="/tags/">Tags</a>
          </li>
        
          
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="/about/">About</a>
          </li>
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" data-toggle="modal" data-target="#modalSearch">&nbsp;&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="view intro-2" id="background"
         style="background: url('https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1578552733&di=1868fdc1ab2e9200f97b49b96b703a10&imgtype=jpg&er=1&src=http%3A%2F%2Fnews.vsochina.com%2Fuploadfile%2F2016%2F1215%2F20161215032731409.jpg')no-repeat center center;
           background-size: cover;
           background-attachment: fixed;">
      <div class="full-bg-img">
        <div class="mask rgba-black-light flex-center">
          <div class="container text-center white-text fadeInUp">
            <span class="h2" id="subtitle">
              
            </span>

            
              <br>
              
                <p class="mt-3">
                  <i class="fas fa-calendar-alt" aria-hidden="true"></i>&nbsp;
                  Monday, December 30th 2019, 5:30 pm
                </p>
              

              <p>
                
                  
                  &nbsp;<i class="far fa-chart-bar"></i>
                  <span class="post-count">
                    3k 字
                  </span>&nbsp;
                

                
                  
                  &nbsp;<i class="far fa-clock"></i>
                  <span class="post-count">
                      10 分钟
                  </span>&nbsp;
                

                
                  <!-- 不蒜子统计文章PV -->
                  
                  &nbsp;<i class="far fa-eye" aria-hidden="true"></i>&nbsp;
                  <span id="busuanzi_container_page_pv">
                    <span id="busuanzi_value_page_pv"></span> 次
                  </span>&nbsp;
                
              </p>
            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid">
  <div class="row">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-md">
      <div class="py-5 z-depth-3" id="board">
        <div class="post-content mx-auto" id="post">
          <div class="markdown-body">
            <h2 id="vim简单编辑器"><a href="#vim简单编辑器" class="headerlink" title="vim简单编辑器"></a>vim简单编辑器</h2><pre><code class="python">1.使用vim命令进入vim界面编辑:
    vim 文件名字

2.按Esc进入普通模式:
    h:左  l:右  j:下  k:上  w:移动到下一个单词  b:移动到上一个单词
    i:在当前光标处进行编辑  
    I:在行首插入
    A:在行末插入
    a:在光标后插入编辑
    o:在当前行后插入一个新行
    O:在当前行前插入一个新行
    cw:替换从光标所在位置后到一个单词结尾的字符

3.保存并退出：wq
    :w 文件名：可以将文档另存为
    :q! 强制退出，不保存
    :q 退出
    :wq! 强制保存并退出
    :saveas 文件路径 :另存为
    :x  保存并退出
    :wq  保存并退出

4.普通模式下删除文本信息:
    x     删除游标所在的字符
    X   删除游标所在前一个字符
    Delete  同x
    dd  删除整行
    dw  删除一个单词(不适用中文)
    d$或D  删除至行尾
    d^   删除至行首
    dG  删除到文档结尾处
    d1G 删至文档首部
    还可以在命令之前加数字表示一次删除多行
    例如：2dd
</code></pre>
<h2 id="vim文档编辑"><a href="#vim文档编辑" class="headerlink" title="vim文档编辑"></a>vim文档编辑</h2><pre><code class="python">1.普通模式下.(小数点)表示重复上一次命令操作:
    普通模式下输入x，删除第一个字符，输入.(小数点)会再次删除一个字符，除此之外也可以重复dd的删除操作


2.指定相同的命令:
    N&lt;command&gt;     N表示重复后面的次数

    10x 删除10个连续字符
    3dd 删除3行文本

3.行间跳转:
    nG(n shift+g)  游标移动到第 n 行(如果默认没有显示行号，请先进入命令模式，输入:set nu以显示行号)
    gg     游标移动到到第一行
    G(Shift+g)     到最后一行

4.行内跳转:
    w    到下一个单词的开头
    e    到当前单词的结尾
    b    到前一个单词的开头
    ge    到前一个单词的结尾
    0或^    到行头
    $    到行尾
    f&lt;字母&gt;    向后搜索&lt;字母&gt;并跳转到第一个匹配的位置(非常实用)
    F&lt;字母&gt;    向前搜索&lt;字母&gt;并跳转到第一个匹配的位置
    t&lt;字母&gt;    向后搜索&lt;字母&gt;并跳转到第一个匹配位置之前的一个字母(不常用)
    T&lt;字母&gt;    向前搜索&lt;字母&gt;并跳转到第一个匹配位置之后的一个字母(不常用)

5.复制粘贴和剪切:普通模式
    y    复制
    yy    复制游标所在的整行（3yy表示复制3行）
    y^    复制至行首，或y0。不含光标所在处字符。
    y$    复制至行尾。含光标所在处字符
    yw    复制一个单词
    y2w    复制两个单词
    yG    复制至文本末
    y1G    复制至文本开头

普通模式粘贴：
    p    粘贴
    p(小写)    代表粘贴至光标后（下）
    P(大写)    代表粘贴至光标前（上）

剪贴及粘贴
    dd删除命令就是剪切 每次dd删除文档后可以使用p来粘贴


</code></pre>
<h2 id="查找替换"><a href="#查找替换" class="headerlink" title="查找替换"></a>查找替换</h2><pre><code class="python">1.替换和撤销:普通模式
    r+&lt;待替换字母&gt;    将游标所在字母替换为指定字母
    R    连续替换 直到按下Esc
    cc    替换整行，即删除游标所在行，并进入插入模式
    cw    替换一个单词，即删除一个单词，并进入插入模式
    C(大写)    替换游标以后至行末
    ~    反转游标所在字母大小写
    u{n}    撤销一次或n次操作
    U(大写)    撤销当前行的所有修改
    Ctrl+r    redo,即撤销undo的操作
输入fa 跳转到第一个a字符
输入r，并且输入b，a字符被b字符替换（实用）
输入R替换字符，输入新字符串，输入完按ESC回到普通模式（实用）
输入cc替换整行字符，输入新字符串，输入完按ESC回到普通模式
输入cw 替换一个英文字(word)，输入完按ESC回到普通模式（实用）
输入~，翻转游标所在字符的大小写
输入C 替换至行尾，即游标所在处以后的字都会被替换，输入完按ESC回到普通模式
输入u 撤销上一次的操作
输入2G，跳转到 2 行

2.使用命令进行快速调整缩进操作:普通模式下
    普通模式下输入15G，跳转到15行
    普通模式下输入&gt;&gt; 整行将向右缩进（使用，用于格式化代码超爽）
    普通模式下输入&lt;&lt; 整行向左回退
    普通模式下输入:进入命令行模式下对shiftwidth值进行设置可以控制缩进和回退的字符数
    shiftwidth命令：
    shiftwidth命令是指上一节&gt;&gt;命令产生的缩进（可以简写成sw） 普通模式下输入:进入命令行模式下对shiftwidth值进行设置可以控制缩进和回退的字符数 获取目前的设定值 例如:set shiftwidth=10

3.调整文本位置
    :ce(center)    本行内容居中
    :ri(right)    本行文本靠右
    :le(left)    本行内容靠左

4.快速查找:普通模式
    普通模式下输入 / 然后键入需要查找的字符串 按回车后就会进行查找。 ？ 与/ 功能相同，只不过 ？ 是向上而 / 是向下查找。 进入查找之后，输入n 和 N 可以继续查找。 n是查找下一个内容,N查找上一个内容。

    普通模式下输入/icmp然后回车即可查找字符串 icmp
    普通模式下输入n查找下一个 icmp
    普通模式下输入？tcp向上查找字符串 tcp
    普通模式下输入N查找上一个出现的 tcp
    命令行模式下输入 noh 然后回车即可取消搜索
高级查找
    普通模式下输入\*寻找游标所在处的单词
    普通模式下输入\#同上，但 \# 是向前（上）找，\*则是向后（下）找
    普通模式下输入g\*同\* ，但部分符合该单词即可
    普通模式下输入g\#同\# ，但部分符合该单词即可

5.多文件编辑
vim 1.txt 2.txt:
    默认进入1.txt文件的编辑界面
    命令行模式下输入 :n 编辑 2.txt 文件，可以加 ! 即 :n! 强制切换，之前一个文件的输入没有保存，仅仅切换到另一个文件
命令行模式下输入 :N 编辑 1.txt 文件，可以加 ! 即 :N! 强制切换，之前文件内的输入没有保存，仅仅是切换到另一个文件

进入vim后打开新文件:
    命令行模式下输入:e 3.txt 打开新文件3.txt
    命令行模式下输入:e# 回到前一个文件
    命令行模式下输入:ls可以列出以前编辑过的文档
    命令行模式下输入:b 2.txt（或者编号）可以直接进入文件2.txt编辑
    命令行模式下输入:bd 2.txt（或者编号）可以删除以前编辑过的列表中的文件项目
    命令行模式下输入:e! 4.txt，新打开文件4.txt，放弃正在编辑的文件
    命令行模式下输入:f 显示正在编辑的文件名
    命令行模式下输入:f new.txt，改变正在编辑的文件名字为new.txt

恢复文件:
    如果因为断电等原因造成文档没有保存，可以采用恢复方式，vim -r进入文档后，输入:ewcover 1.txt来恢复


6.可视模式:普通模式
    在普通模式下输入 v（小写），进入字符选择模式，就可以移动光标，光标走过的地方就会选取。再次按下v后就会取消选取。
    在普通模式下输入 Shift+v（小写），进入行选择模式，按下V之后就会把整行选取，您可以上下移动光标选更多的行，同样，再按一次 Shift+v 就可以取消选取。
    在普通模式下输入 Ctrl+v（小写），这是区域选择模式，可以进行矩形区域选择，再按一次 Ctrl+v 取消选取。
    在可视模式下输入 d 删除选取区域内容
    在可视模式下输入y复制选取区域内容
    在普通模式下9G跳转到第9行,输入Shift+v（小写V），进入可视模式进行行选择，选中5行，按下&gt;&gt;缩进，将5行整体缩进一个shiftwidth
    在普通模式下输入 Ctrl+v（小写V），进入可视模式进行矩形区域选择，选中第一列字符然后x删除整列

7. 视窗操作简介:
    命令行模式下输入:sp 1.txt 打开新的水平分屏视窗来编辑1.txt
    命令行模式下输入:vsp 2.txt 打开新的垂直分屏视窗来编辑2.txt
    普通模式下Ctrl+w s 将当前窗口分割成两个水平的窗口
    普通模式下Ctrl+w v 将当前窗口分割成两个垂直的窗口
    普通模式下Ctrl+w q 即 :q 结束分割出来的视窗。如果在新视窗中有输入需要使用强制符！即:q!
    普通模式下Ctrl+w o 打开一个视窗并且隐藏之前的所有视窗
    普通模式下Ctrl+w j 移至下面视窗
    普通模式下Ctrl+w k 移至上面视窗
    普通模式下Ctrl+w h 移至左边视窗
    普通模式下Ctrl+w l 移至右边视窗
    普通模式下Ctrl+w J 将当前视窗移至下面
    普通模式下Ctrl+w K 将当前视窗移至上面
    普通模式下Ctrl+w H 将当前视窗移至左边
    普通模式下Ctrl+w L 将当前视窗移至右边
    普通模式下Ctrl+w - 减小视窗的高度
    普通模式下Ctrl+w + 增加视窗的高度

8.创建加密文档:
    $ vim -x file1

9.在vim执行外部命令:
    :!ls 用于显示当前目录的内容
    :!rm FILENAME用于删除名为 FILENAME 的文件
    :w FILENAME可将当前 VIM 中正在编辑的文件另存为 FILENAME 文件

10.帮助系统:
    普通模式下按F1打开vim自己预设的帮助文档
    命令行模式下输入:h shiftwidth 打开名为shiftwidth的帮助文件
    命令行模式下输入:ver 显示版本及参数

11.功能设定:
    1. vim的功能设定
可以在编辑文件的时候进行功能设定，如命令行模式下输入:set nu（显示行数），设定值退出vim后不会保存。要永久保存配置需要修改vim配置文件。 vim的配置文件~/.vimrc(实验楼环境中配置文件在/etc/vim/vimrc)，可以打开文件进行修改，不过务必小心不要影响vim正常使用

    2. 获取目前的设定
    命令行模式下输入:set或者:se显示所有修改过的配置
    命令行模式下输入:set all 显示所有的设定值
    命令行模式下输入:set option? 显示option的设定值
    命令行模式下输入:set nooption 取消当前设定值
    2.7.3 set功能的说明
    命令行模式下输入:set autoindent(ai) 设置自动缩进
    命令行模式下输入:set autowrite(aw) 设置自动存档，默认未打开
    命令行模式下输入:set background=dark或light，设置背景风格
    命令行模式下输入:set backup(bk) 设置自动备份，默认未打开
    命令行模式下输入: set cindent(cin) 设置C语言风格缩进</code></pre>

            <hr>
          </div>
          <br>
          <div>
            <p>
            
              <span>
                <i class="iconfont icon-inbox"></i>
                
                  <a class="hover-with-bg" href="/categories/Linux">Linux</a>
                  &nbsp;
                
              </span>&nbsp;&nbsp;
            
            
              <span>
                <i class="iconfont icon-tag"></i>
                
                  <a class="hover-with-bg" href="/tags/python">python</a>
                
              </span>
            
            </p>
            
              <p class="note note-warning">本博客所有文章除特别声明外，均采用 <a href="https://zh.wikipedia.org/wiki/Wikipedia:CC_BY-SA_3.0%E5%8D%8F%E8%AE%AE%E6%96%87%E6%9C%AC" target="_blank" rel="nofollow noopener noopener">CC BY-SA 3.0协议</a> 。转载请注明出处！</p>
            
          </div>
        </div>
      </div>
    </div>
    <div class="d-none d-lg-block col-lg-2 toc-container">
      
  <div id="toc">
    <p class="h4"><i class="far fa-list-alt"></i>&nbsp;TOC</p>
    <div id="tocbot"></div>
  </div>

    </div>
  </div>
</div>

<!-- custom -->


<!-- Comments -->
<div class="col-lg-7 mx-auto nopadding-md">
  <div class="container comments mx-auto" id="comments">
    
  </div>
</div>

    
  </main>

  
    <a class="z-depth-1" id="scroll-top-button" href="#" role="button">
      <i class="fa fa-chevron-up scroll-top-arrow" aria-hidden="true"></i>
    </a>
  

  
    <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">Search</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">keyword</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
  

  <footer class="mt-5">
  <div class="text-center py-3">
    <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><b>Hexo</b></a>
    <i class="iconfont icon-love"></i>
    <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"> <b>Fluid</b></a>
    <br>

    
  
    <!-- 不蒜子统计PV -->
    
    &nbsp;<span id="busuanzi_container_site_pv">总访问量 
          <span id="busuanzi_value_site_pv"></span> 次</span>&nbsp;
  
  
    <!-- 不蒜子统计UV -->
    
    &nbsp;<span id="busuanzi_container_site_uv">总访客数 
            <span id="busuanzi_value_site_uv"></span> 人</span>&nbsp;
  
  <br>



    


    <!-- cnzz Analytics icon -->
    

  </div>
</footer>

<!-- SCRIPTS -->
<script src="/lib/jquery/jquery.min.js" ></script>
<script src="/lib/popper/popper.min.js" ></script>
<script src="/lib/bootstrap/js/bootstrap.min.js" ></script>
<script src="/lib/mdbootstrap/js/mdb.min.js" ></script>
<script src="/js/main.js" ></script>


  <script src="/js/lazyload.js" ></script>



  
    <script src="/lib/tocbot/tocbot.min.js" ></script>
  
  <script src="/js/post.js" ></script>



  <script src="/lib/smooth-scroll/smooth-scroll.min.js" ></script>



  <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>


<!-- Plugins -->


  

  

  

  

  <!-- cnzz Analytics -->
  



  <script src="/lib/prettify/prettify.min.js" ></script>
  <script>
    $(document).ready(function () {
      $('pre').addClass('prettyprint  linenums');
      prettyPrint();
    })
  </script>



  <script src="/lib/typed/typed.min.js" ></script>
  <script>
    var typed = new Typed('#subtitle', {
      strings: [
        '  ',
        "Docker&部署&nbsp;",
      ],
      cursorChar: "_",
      typeSpeed: 70,
      loop: true,
    });
    typed.stop();
    $(document).ready(function () {
      $(".typed-cursor").addClass("h2");
      typed.start();
    });
  </script>



  <script src="/lib/anchor/anchor.min.js" ></script>
  <script>
    anchors.options = {
      placement: "right",
      visible: "false",
      
    };
    var el = "h1,h2,h3,h4,h5,h6".split(",");
    var res = [];
    for (item of el) {
      res.push(".markdown-body > " + item)
    }
    anchors.add(res.join(", "))
  </script>



  <script src="/js/local-search.js" ></script>
  <script>
    var path = "/local-search.xml";
    var inputArea = document.querySelector("#local-search-input");
    inputArea.onclick = function () {
      getSearchFile(path);
      this.onclick = null
    }
  </script>



  <script src="/lib/fancybox/jquery.fancybox.min.js" ></script>
  <script>
    $("#post img:not(.no-zoom img, img[no-zoom])").each(
      function () {
        var element = document.createElement("a");
        $(element).attr("data-fancybox", "images");
        $(element).attr("href", $(this).attr("src"));
        $(this).wrap(element);
      }
    );
  </script>











</body>
</html>
